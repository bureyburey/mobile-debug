!function(){var e=document.createElement("div"),t=Object.create({add:function(n,r){var o;if(r?o=n:r=n,o=r.id||o,"string"==typeof r)e.innerHTML=r,Array.prototype.forEach.call(e.children,function(e){t.add(e)});else if(o&&!t[o]){if(r.id){var l=r.className;r.className=r.id,l&&(r.className+=" "+l),r.removeAttribute("id")}Object.defineProperty(t,o,{enumerable:!1,configurable:!1,writable:!1,value:r.cloneNode(!0)})}else console.warn("no name declared for element or the name is already in use");return t},clone:function(e){if(t[e])return t[e].cloneNode(!0);console.warn(e+" not found")},convert:function(t){if(e.innerHTML=t,e.children.length)return e.children[0]}});t.add('<div id="wrapper"></div>');var n=t.clone("wrapper");n.id="mobile-debug";var r=t.convert("<style></style>");n.appendChild(r),Object.defineProperty(n,"styles",{enumerable:!1,configurable:!1,get:function(){return r.innerHTML},set:function(e){return r.innerHTML=e,e}}),document.body?document.body.appendChild(n):document.addEventListener("readystatechange",function(){"interactive"===document.readyState&&document.body.appendChild(n)}),n.styles+="#mobile-debug{border-color:#ddd}#mobile-debug *{border-color:inherit;box-sizing:border-box}#mobile-debug input,#mobile-debug textarea{background-color:transparent}",t.add('<div id="jsonDisplay" class="data-div"><div class="starting-brace">{</div><div class="properties"></div><div class="ending-brace">}</div></div><div id="jsonHidden" class="data-div"><div class="json-placeholder">{...}</div></div><div id="keyVal"><div class="key"></div>:<div class="val"></div></div><div id="otherData" class="data-div"><pre style="margin: 0"></pre></div>');var o=function(e){var n=t.clone("otherData").querySelector("pre");return n.innerText=e,n},l=function(e,n,r){var o=t.clone("wrapper"),l=t.clone("jsonHidden");l.addEventListener("dblclick",function(d){if(d.stopPropagation(),l.parentNode&&l.parentNode.removeChild(l),o.appendChild(a),!(a.querySelector(".properties").children.length>0)){var c=function(e,n,r,o){var l=t.clone("keyVal");l.querySelector(".key").innerText='"'+e+'"',l.querySelector(".key").style.cursor="pointer";var a=i(n,r,o);return l.querySelector(".val").appendChild(a),l.querySelector(".key").addEventListener("dblclick",function(e){e.stopPropagation();var t=a.querySelector(".data-div"),n=document.createEvent("MouseEvents");n.initEvent("dblclick",!0,!0),t&&t.dispatchEvent(n)}),l};(n=n||Object.getOwnPropertyNames(e)).filter(function(e){return"__proto__"!==e}).forEach(function(t){var n=c(t,e[t]);a.querySelector(".properties").appendChild(n)});var s=Object.getPrototypeOf(r||e);if(s){var p=c("__proto__",e,Object.getOwnPropertyNames(s),s);a.querySelector(".properties").appendChild(p)}}});var a=t.clone("jsonDisplay");return a.addEventListener("dblclick",function(e){e.stopPropagation(),a.parentNode&&a.parentNode.removeChild(a),o.appendChild(l)}),o.appendChild(l),Object.defineProperty(o,"useBrackets",{enumerable:!0,configurable:!0,writable:!1,value:function(e){a.querySelector(".starting-brace").innerText=e[0],a.querySelector(".ending-brace").innerText=e[1];var t=l.querySelector(".json-placeholder");t.innerText=t.innerText.replace("{",e[0]).replace("}",e[1])}}),o},a=!1,i=function(e,n,r){if(null===e)return o("null");if("object"==typeof e&&Array.isArray(e)){var i=l(e,n,r);return i.useBrackets("[]"),i}if(e instanceof HTMLElement){var d=t.clone("wrapper");return d.appendChild(y(e)),d.appendChild(l(e,n,r)),d}return"object"==typeof e?l(e,n,r):"string"==typeof e?a?(a=!1,o(e)):o('"'+e.replace(/\"/g,'\\"')+'"'):o("function"==typeof e||"number"==typeof e?e.toString():"boolean"==typeof e?e?"true":"false":"undefined")};n.styles+="#mobile-debug #mobile-console{border-style:solid;border-width:1px;height:200px;overflow:auto;font-family:monospace}#mobile-debug .jsonDisplay .properties{margin-left:1em}#mobile-debug .jsonDisplay .properties .keyVal{display:flex}#mobile-debug .jsonDisplay .properties .keyVal .val{flex-grow:1}#mobile-debug .jsonHidden{cursor:pointer}#mobile-debug .err,#mobile-debug .log,#mobile-debug .warn{border-top:solid 1px #ddd;padding:.25em .5em}#mobile-debug .log{color:#000}#mobile-debug .err{color:Red}#mobile-debug .warn{color:#daa520}#mobile-debug .data-div{cursor:pointer;white-space:nowrap}";var d=t.clone("wrapper");d.id="mobile-console",Object.defineProperty(d,"log",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=t.clone("wrapper");return e.className+=" log",Array.prototype.forEach.call(arguments,function(t){e.appendChild(i(t))}),d.appendChild(e),d.scrollTop=d.scrollHeight,e}});var c=t.convert("<div><textarea></textarea><button>execute</button></div>");c.querySelector("textarea").style.width="100%",Object.defineProperty(c,"value",{enumerable:!0,configurable:!0,get:function(){return c.querySelector("textarea").value},set:function(e){return c.querySelector("textarea").value=e,e}}),Object.defineProperty(c,"execute",{enumerable:!0,configurable:!0,writable:!0,value:function(){a=!0,d.log("Input:"+c.value);try{d.log(eval.call(this,c.value))}catch(e){a=!0;d.log("Error",e).className+=" err"}finally{c.value=""}}}),c.querySelector("button").addEventListener("click",c.execute);var s=t.clone("wrapper");s.appendChild(d),s.appendChild(c),n.appendChild(n.console=s);var p=console.log;console.log=function(){var e=Array.prototype.slice.call(arguments);d.log.apply(this,e).className+=" log",p.apply(console,e)};var u=function(e){return e.reduce(function(e,t){return e.push(t),e.push(new Error(t)),e},[])},h=console.error;console.error=function(){var e=Array.prototype.slice.call(arguments),t=u(e);d.log.apply(this,t).className+=" err",h.apply(console,e)};var v=console.warn;console.warn=function(){var e=Array.prototype.slice.call(arguments),t=u(e);d.log.apply(this,t).className+=" warn",v.apply(console,e)},window.addEventListener("error",function(e){d.log(e.message+"Error in file: "+e.fileName+" on line "+e.lineno+":"+e.colno).className+=" err"}),t.add('<div id="htmlContainer" class="data-div closed"><div class="html-open"></div><div class="html-body"></div><div class="html-close"></div></div><input id="underlineInput" style="border: none; border-bottom: solid 1px #CCC; text-align: center;">');var y=function(e){if(e){if(e instanceof HTMLElement){var n,r=e.cloneNode().outerHTML,l=t.clone("htmlContainer"),i=r.match(/<\/[^>]+>/);if(i){var d=i[0];n=r.replace(d,""),l.querySelector(".html-close").innerText=d,l.querySelector(".html-body").innerText="..."}else n=r;var c=e.childNodes;l.querySelector(".html-open").innerText=n,c.length&&(l.querySelector(".html-body").innerText="...");var s=function(){l.className=l.className.replace(" closed","")+" open",l.querySelector(".html-body").innerHTML="";var e=l.querySelector(".html-body");Array.prototype.map.call(c,function(e){return y(e)}).forEach(function(t){e.appendChild(t)}),l.dblclickAction=p},p=function(){l.className=l.className.replace(" open","")+" closed",l.querySelector(".html-body").innerHTML="...",l.dblclickAction=s};return l.dblclickAction=s,l.addEventListener("dblclick",function(e){e.stopPropagation(),l.dblclickAction()}),l.addEventListener("click",function(t){t.stopPropagation(),g.innerHTML="",g.appendChild(m(e)),Array.prototype.forEach.call(f.querySelectorAll(".highlight"),function(e){e.className=e.className.replace(" highlight","")}),l.className+=" highlight"}),l}return e instanceof Text?(a=!0,o(e.nodeValue)):void 0}},b=function(e,n,r){var o=t.clone("keyVal");o.querySelector(".key").appendChild(o.keyInput=t.clone("underlineInput")),o.querySelector(".val").appendChild(o.valInput=t.clone("underlineInput")),o.appendChild(o.deleteButton=t.convert("<button>X</button>")),o.keyInput.value=e.style[n]||"New",o.valInput.value=e.style.getPropertyValue(e.style[n]),o.deleteButton.addEventListener("click",function(){e.style.removeProperty(e.style[n]),r()});var l=function(t){if(":"==t.key&&t.target==o.keyInput||":"==t.data&&t.target==o.keyInput)return o.valInput.focus(),o.keyInput.value=o.keyInput.value.replace(/\:+$/,""),t.stopPropagation(),void t.preventDefault();if(13===t.keyCode&&t.target===o.valInput||";"===t.key&&t.target===o.valInput||";"===t.data&&t.target===o.valInput){var l=o.keyInput.value.replace(/^-/,"").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});void 0!==e.style[l]&&(e.style.removeProperty(e.style[n]),e.style.setProperty(o.keyInput.value,o.valInput.value),r()),void 0!==e.style[l]&&e.style[l]?(o.className=o.className.replace(" err",""),o.keyInput.style.color=o.valInput.style.color="black"):(o.className+=" err",o.keyInput.style.color=o.valInput.style.color="red")}};return o.keyInput.addEventListener("keyup",l),o.valInput.addEventListener("keyup",l),o.keyInput.addEventListener("input",l),o.valInput.addEventListener("input",l),o},m=function(e){var n=function(e){e.matches=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||el.msMatchesSelector||el.oMatchesSelector;for(var t=[],n=document.styleSheets.length;n>0;!function(n){var r,o=n.rules||n.cssRules;if(o)for(var l=o.length;l>0;r=o[--l],!void(e.matches(r.selectorText)&&t.push(r)));}(document.styleSheets[--n]));return t.unshift({selectorText:"style attribute",style:e.style}),t}(e),r=t.clone("wrapper");return n.forEach(function(n){r.appendChild(function(e,n){var r=t.clone("wrapper");r.appendChild(o(e.selectorText));var l=t.clone("jsonDisplay");r.appendChild(l);for(var a=function(){g.innerHTML="",g.appendChild(m(n))},i=0;i<=e.style.length;i++)l.querySelector(".properties").appendChild(b(e,i,a));return r}(n,e)),r.appendChild(document.createElement("hr"))}),r},f=t.clone("wrapper");f.id="dom-view",f.appendChild(y(document.querySelector("html")));var g=t.clone("wrapper");g.id="css-view";var C=t.convert('<input type="range" min="1" max="99" step="1" style="width: 100%; margin:0;">');C.addEventListener("change",function(e){f.style.width=C.value+"%",g.style.width=100-C.value+"%"}),n.styles+="#mobile-debug #css-view,#mobile-debug #dom-view{border-style:solid;border-width:1px;height:200px;overflow:auto;font-family:monospace;display:inline-block;width:50%}#mobile-debug .htmlContainer.closed>*{display:inline-block}#mobile-debug .htmlContainer.open>.html-body{margin-left:1em}#mobile-debug .closed.highlight,#mobile-debug .open.highlight>.html-close,#mobile-debug .open.highlight>.html-open{background-color:#87ceeb;display:inline}";var x=t.clone("wrapper");x.appendChild(f),x.appendChild(g),n.appendChild(n.inspector=x),x.appendChild(C);var k={},w=[],E=XMLHttpRequest.prototype,S=E.open,N=E.send,L=E.setRequestHeader;Object.defineProperty(E,"open",{configurable:!0,enumerable:!1,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=e[0]+":"+e[1],n=k[t]={method:e[0],url:e[1],xhr:this};e[2]&&(n.username=e[3]),e[3]&&(n.password=e[4]),S.apply(this,e),w.push(n),D&&D()}}),Object.defineProperty(E,"setRequestHeader",{configurable:!0,enumerable:!1,writable:!0,value:function(e,t){var n,r=this;w.forEach(function(e){e.xhr===r&&(n=e)}),n&&(n.sentHeaders=n.sentHeaders||{},n.sentHeaders[e]=t),L.call(n.xhr,e,t)}}),Object.defineProperty(E,"send",{configurable:!0,enumerable:!1,writable:!0,value:function(e){var t,n=this;w.forEach(function(e,r){e.xhr===n&&(t=r)});var r=w[t];w.splice(t,1),void 0===e?N.call(n):(N.call(n,e),r.body=e),n.addEventListener("loadend",function(){r.responce=n.responseText,r.status=n.status,r.recievedHeaders={},n.getAllResponseHeaders().split("").forEach(function(e){var t=e.split(": ");t[0]&&(r.recievedHeaders[t[0]]=t[1])})})}});var T=t.clone("wrapper"),q=t.clone("wrapper");q.id="xhrList",xhrDetails=t.clone("wrapper"),xhrDetails.id="xhrDetails",T.appendChild(q),T.appendChild(xhrDetails),n.appendChild(n.xhr=T),n.styles+="#mobile-debug .xhr-list-item{padding:.5em;border-bottom:1px solid #ccc}#mobile-debug #xhrDetails,#mobile-debug #xhrList{border:solid 1px #ccc;height:150px;overflow:auto}";var D=function(){for(var e in Array.prototype.forEach.call(q.children,function(e){q.removeChild(e)}),k)!function(e,t){var n=o(e);n.addEventListener("click",function(){H(t)}),q.appendChild(n),n.className+=" xhr-list-item"}(e,k[e])},H=function(e){for(var t;t=xhrDetails.children[0];)xhrDetails.removeChild(t);var n=o(e.responce),r=[];r.push(o("General")),r.push(l({method:e.method,url:e.url,status:e.status})),e.recievedHeaders&&(r.push(document.createElement("hr")),r.push(o("Recieved Headers")),r.push(l(e.recievedHeaders))),e.sentHeaders&&(r.push(document.createElement("hr")),r.push(o("Sent Headers")),r.push(l(e.sentHeaders))),e.body&&(r.push(document.createElement("hr")),r.push(o("Payload")),a=!0,r.push(i(e.body)),a=!1);var d=document.createElement("button");d.innerText="Responce",d.addEventListener("click",function(){r.forEach(function(e){e.parentNode==xhrDetails&&xhrDetails.removeChild(e)}),xhrDetails.appendChild(n)});var c=document.createElement("button");c.innerText="Stats",c.addEventListener("click",function(){n.parentNode==xhrDetails&&xhrDetails.removeChild(n),r.forEach(function(e){xhrDetails.appendChild(e)})}),xhrDetails.appendChild(d),xhrDetails.appendChild(c),xhrDetails.appendChild(n)};n.removeChild(n.console),n.removeChild(n.inspector),n.removeChild(n.xhr);var I=function(){document.body.style.removeProperty("padding-bottom");var e=window.getComputedStyle(document.body),t=parseFloat(e.paddingBottom.replace("px","")),r=window.getComputedStyle(n),o=parseFloat(r.height.replace("px",""));document.body.style.setProperty("padding-bottom",t+o+"px","important")},j=t.clone("wrapper");j.id="inspector-navigation",n.appendChild(j);var P=function(){return n.console.parentNode==n&&(n.removeChild(n.console),A.style.backgroundColor="",!0)},A=t.clone("wrapper");A.innerText="Console",A.className+=" tab-header",A.addEventListener("click",function(){R(),M(),P()||(n.appendChild(n.console),A.style.backgroundColor="inherit"),I()}),j.appendChild(A);var M=function(){return n.inspector.parentNode==n&&(n.removeChild(n.inspector),O.style.backgroundColor="",!0)},O=t.clone("wrapper");O.innerText="Inspector",O.className+=" tab-header",O.addEventListener("click",function(){R(),P(),M()||(n.appendChild(n.inspector),O.style.backgroundColor="inherit"),I()}),j.appendChild(O);var R=function(){return n.xhr.parentNode==n&&(n.removeChild(n.xhr),_.style.backgroundColor="",!0)},_=t.clone("wrapper");_.innerText="XHR",_.className+=" tab-header",_.addEventListener("click",function(){P(),M(),R()||(n.appendChild(n.xhr),_.style.backgroundColor="inherit"),I()}),j.appendChild(_),n.styles+="#mobile-debug .tab-header{display:inline-block;width:33.33%;padding:.5em;text-align:center;background-color:#fff}#mobile-debug{background-color:#eee;padding:.25em;position:fixed;bottom:0;left:0;right:0}","complete"===document.readyState&&document.body.appendChild(n),document.addEventListener("readystatechange",function(){"complete"===document.readyState&&I()})}();
